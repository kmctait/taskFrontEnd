<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Tasks</title>
</head>
<body>
<h1>All Tasks</h1>

<!-- CREATE TASK BUTTON -->
<p>
    <a href="/tasks/create">
        <button type="button">Create New Task</button>
    </a>
</p>

<table border="1">
    <tr>
        <th>ID</th>
        <th>Title</th>
        <th>Description</th>
        <th>Status</th>
        <th>Actions</th>
    </tr>

    <tr th:each="task : ${tasks}">
        <td th:text="${task.id}"></td>
        <td th:text="${task.title}"></td>
        <td th:text="${task.description}"></td>

        <!-- Inline Status Form -->
        <td>
            <form th:action="@{'/tasks/update-status/' + ${task.id}}" method="post">
                <input type="text" name="status" th:value="${task.status}" />
                <button type="submit">Update Status</button>
            </form>
        </td>

        <td>
            <form th:action="@{'/tasks/delete/' + ${task.id}}" method="post" style="display:inline">
                <button type="submit">Delete</button>
            </form>
        </td>
    </tr>
</table>
</body>
</html>
